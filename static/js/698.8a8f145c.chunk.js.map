{"version":3,"file":"static/js/698.8a8f145c.chunk.js","mappings":"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","sources":["components/Favorites/Fvorites.styled.jsx","components/Favorites/Favorites.jsx","pages/FavoritesPage.jsx"],"sourcesContent":["import styled from 'styled-components';\n\nexport const NoFav = styled.p`\n  max-width: 1440px;\n  margin-top: 50px;\n  font-size: 50px;\n`;\n","// Favorites.jsx\nimport React, { useCallback, useEffect, useState } from 'react';\nimport { auth } from '../../firebase';\nimport { Card } from 'components/Card/Card';\nimport { onAuthStateChanged } from 'firebase/auth';\nimport { NoFav } from './Fvorites.styled';\nimport { HeaderContainer } from 'components/Header/Header.styled';\nimport { BtnLoadMore } from 'components/Catalog/Catalog.styled';\n\nexport const Favorites = ({ filterOption }) => {\n  const [favoriteCards, setFavoriteCards] = useState([]);\n  const [visibleFavoriteCards, setVisibleFavoriteCards] = useState(1);\n\n  const fetchData = useCallback(() => {\n    try {\n      const userId = auth.currentUser?.uid;\n      if (userId) {\n        const storedFavorites =\n          JSON.parse(localStorage.getItem(`favorites-${userId}`)) || [];\n        setFavoriteCards(storedFavorites);\n      }\n    } catch (error) {\n      console.error('Error fetching data:', error);\n    }\n  }, []);\n\n  useEffect(() => {\n    const unsubscribe = onAuthStateChanged(auth, user => {\n      if (user) {\n        fetchData();\n      }\n    });\n\n    return () => unsubscribe();\n  }, [fetchData]);\n\n  //   const fetchFavorites = async () => {\n  //     try {\n  //       const userId = auth.currentUser?.uid;\n  //       if (userId) {\n  //         const storedFavorites =\n  //           (await JSON.parse(localStorage.getItem(`favorites-${userId}`))) ||\n  //           [];\n  //         setFavoriteCards(storedFavorites);\n  //       }\n  //     } catch (error) {\n  //       console.error('Error reading from localStorage:', error);\n  //     }\n  //   };\n\n  //   const unsubscribe = onAuthStateChanged(auth, user => {\n  //     if (user) {\n  //       fetchFavorites();\n  //     }\n  //   });\n\n  //   return () => unsubscribe();\n  // }, []);\n\n  const applyFilter = (cards, option) => {\n    switch (option) {\n      case 'A to Z':\n        return cards.slice().sort((a, b) => a.name.localeCompare(b.name));\n      case 'Z to A':\n        return cards.sort((a, b) => b.name.localeCompare(a.name));\n      case 'Less than 10$':\n        return cards.filter(person => person.price_per_hour < 10);\n      case 'Greater than 10$':\n        return cards.filter(person => person.price_per_hour > 10);\n      case 'Popular':\n        return cards.filter(person => person.rating > 4);\n      case 'Non popular':\n        return cards.filter(person => person.rating <= 4);\n      default:\n        return cards;\n    }\n  };\n\n  const filteredFavoriteCards = applyFilter(favoriteCards, filterOption);\n\n  const handleLoadMore = () => {\n    const remainingCards =\n      filteredFavoriteCards.length - visibleFavoriteCards * 3;\n    const newVisibleCards = Math.min(3, remainingCards);\n    setVisibleFavoriteCards(\n      prevVisibleFavoriteCards => prevVisibleFavoriteCards + newVisibleCards\n    );\n  };\n\n  const handleFavorite = () => {\n    fetchData();\n  };\n\n  return (\n    <div>\n      {filteredFavoriteCards.length === 0 ? (\n        <HeaderContainer>\n          <NoFav>No favorites yet. You can choose it in catalog.</NoFav>\n        </HeaderContainer>\n      ) : (\n        <div>\n          {filteredFavoriteCards\n            .slice(0, visibleFavoriteCards * 3)\n            .map((favoriteCard, index) => (\n              <Card\n                key={index}\n                person={favoriteCard}\n                handleFavorite={handleFavorite}\n                sourceComponent=\"FavoritePage\"\n              />\n            ))}\n          {filteredFavoriteCards.length > visibleFavoriteCards * 3 && (\n            <BtnLoadMore onClick={handleLoadMore}>Load more</BtnLoadMore>\n          )}\n        </div>\n      )}\n    </div>\n  );\n};\n","import React, { useState } from 'react';\nimport { Favorites } from 'components/Favorites/Favorites';\nimport Filter from 'components/Filter/Filter';\nimport { ContainerCatalog } from 'components/Layout/Layout.styled';\n\nconst FavoritesPage = () => {\n  const [filterOption, setFilterOption] = useState('Show all');\n\n  const handleFilterChange = selectedOption => {\n    setFilterOption(selectedOption);\n  };\n\n  return (\n    <>\n      <ContainerCatalog>\n        <Filter onFilterChange={handleFilterChange} />\n        <Favorites filterOption={filterOption} />\n      </ContainerCatalog>\n    </>\n  );\n};\n\nexport default FavoritesPage;\n"],"names":["NoFav","styled","_templateObject","_taggedTemplateLiteral","Favorites","_ref","filterOption","_useState","useState","_useState2","_slicedToArray","favoriteCards","setFavoriteCards","_useState3","_useState4","visibleFavoriteCards","setVisibleFavoriteCards","fetchData","useCallback","_auth$currentUser","userId","auth","uid","storedFavorites","JSON","parse","localStorage","getItem","concat","error","console","useEffect","unsubscribe","onAuthStateChanged","user","filteredFavoriteCards","cards","option","slice","sort","a","b","name","localeCompare","filter","person","price_per_hour","rating","applyFilter","handleFavorite","_jsx","children","length","HeaderContainer","_jsxs","map","favoriteCard","index","Card","sourceComponent","BtnLoadMore","onClick","remainingCards","newVisibleCards","Math","min","prevVisibleFavoriteCards","setFilterOption","_Fragment","ContainerCatalog","Filter","onFilterChange","selectedOption"],"sourceRoot":""}