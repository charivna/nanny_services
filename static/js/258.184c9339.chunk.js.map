{"version":3,"file":"static/js/258.184c9339.chunk.js","mappings":"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","sources":["components/Loader/Loader.styled.jsx","components/Loader/Loader.jsx","components/Catalog/Catalog.jsx","pages/CatalogPage.jsx"],"sourcesContent":["import styled from 'styled-components';\n\nexport const LoaderContainer = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin-top: 40px;\n`;\n","import React from 'react';\nimport { ColorRing } from 'react-loader-spinner';\nimport { LoaderContainer } from './Loader.styled';\n\nexport default function Loader() {\n  return (\n    <LoaderContainer>\n      <ColorRing\n        visible={true}\n        height=\"80\"\n        width=\"80\"\n        ariaLabel=\"color-ring-loading\"\n        wrapperStyle={{}}\n        wrapperClass=\"color-ring-wrapper\"\n        colors={['#e15b64', '#f47e60', '#f8b26a', '#abbd81', '#849b87']}\n      />\n    </LoaderContainer>\n  );\n}\n","import React, { useEffect, useState } from 'react';\nimport { get, ref } from 'firebase/database';\nimport { db } from '../../firebase';\nimport { Card } from 'components/Card/Card';\nimport { BtnLoadMore, List } from './Catalog.styled';\nimport { nanoid } from 'nanoid';\nimport { toast } from 'react-toastify';\nimport Loader from 'components/Loader/Loader';\nimport { LoaderContainer } from 'components/Loader/Loader.styled';\n\nexport const Catalog = ({ filterOption }) => {\n  const [psycho, setPsycho] = useState([]);\n  const [visiblePsycho, setVisiblePsycho] = useState(3);\n\n  useEffect(() => {\n    const fetchPsycho = async () => {\n      try {\n        const psychosRef = ref(db, '/');\n        const snapshot = await get(psychosRef);\n\n        if (snapshot.exists()) {\n          const psychoArray = Object.entries(snapshot.val()).map(\n            ([id, data]) => ({\n              id: nanoid(),\n              ...data,\n            })\n          );\n\n          let filteredPsycho = applyFilter(psychoArray, filterOption);\n\n          setPsycho(filteredPsycho.slice(0, visiblePsycho));\n        } else {\n          toast.error('No data available');\n        }\n      } catch (error) {\n        toast.error('Error fetching data:', error);\n      }\n    };\n\n    fetchPsycho();\n  }, [filterOption, visiblePsycho]);\n\n  const handleLoadMore = () => {\n    setVisiblePsycho(prevVisiblePsycho => prevVisiblePsycho + 3);\n  };\n\n  const applyFilter = (psychoArray, option) => {\n    switch (option) {\n      case 'A to Z':\n        return psychoArray.sort((a, b) => a.name.localeCompare(b.name));\n      case 'Z to A':\n        return psychoArray.sort((a, b) => b.name.localeCompare(a.name));\n      case 'Less than 10$':\n        return psychoArray.filter(person => person.price_per_hour < 10);\n      case 'Greater than 10$':\n        return psychoArray.filter(person => person.price_per_hour > 10);\n      case 'Popular':\n        return psychoArray.filter(person => person.rating > 4);\n      case 'Non popular':\n        return psychoArray.filter(person => person.rating <= 4);\n      default:\n        return psychoArray;\n    }\n  };\n\n  return (\n    <div>\n      {visiblePsycho === 0 && (\n        <LoaderContainer>\n          <Loader />\n        </LoaderContainer>\n      )}\n      <List>\n        {psycho.map(person => (\n          <Card key={person.id} person={person} />\n        ))}\n      </List>\n      {psycho.length >= 3 && psycho.length < 32 && (\n        <BtnLoadMore onClick={handleLoadMore}>Load more</BtnLoadMore>\n      )}\n    </div>\n  );\n};\n","import { Catalog } from 'components/Catalog/Catalog';\nimport Filter from 'components/Filter/Filter';\nimport { ContainerCatalog } from 'components/Layout/Layout.styled';\nimport { useState } from 'react';\n\nconst CatalogPage = () => {\n  const [filterOption, setFilterOption] = useState('Show all');\n\n  const handleFilterChange = selectedOption => {\n    setFilterOption(selectedOption);\n  };\n\n  return (\n    <ContainerCatalog>\n      <Filter onFilterChange={handleFilterChange} />\n      <Catalog filterOption={filterOption} />\n    </ContainerCatalog>\n  );\n};\n\nexport default CatalogPage;\n"],"names":["LoaderContainer","styled","_templateObject","_taggedTemplateLiteral","Loader","_jsx","children","ColorRing","visible","height","width","ariaLabel","wrapperStyle","wrapperClass","colors","Catalog","_ref","filterOption","_useState","useState","_useState2","_slicedToArray","psycho","setPsycho","_useState3","_useState4","visiblePsycho","setVisiblePsycho","useEffect","fetchPsycho","_ref2","_asyncToGenerator","_regeneratorRuntime","_callee","psychosRef","snapshot","psychoArray","filteredPsycho","_context","prev","next","ref","db","get","sent","exists","Object","entries","val","map","_ref3","_ref4","data","_objectSpread","id","nanoid","applyFilter","slice","toast","t0","stop","apply","arguments","option","sort","a","b","name","localeCompare","filter","person","price_per_hour","rating","_jsxs","List","Card","length","BtnLoadMore","onClick","prevVisiblePsycho","setFilterOption","ContainerCatalog","Filter","onFilterChange","selectedOption"],"sourceRoot":""}